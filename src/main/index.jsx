// @ts-nocheck
/*global chrome*/
import './style.scss';

import React from 'react';
import { useState, useEffect, useMemo } from 'react';
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'
import { faCopy, faExternalLinkSquareAlt } from '@fortawesome/free-solid-svg-icons'
import { copyTextToClipboard } from '../helper';
import SdkHandler from "../sdk-handler"
import Context from "../context"
import Loading from "../loading"
import CfHandler from "../cf-handler"

const mock = {
  "sked-default.currentResource-005900000029TYwAAM": "{\"value\":[{\"UID\":\"a0BN00000046YM8MAM\",\"Name\":\"Le Nguyen\",\"PrimaryRegionId\":\"a09N00000078jSTIAY\"}],\"expiry\":1593057287798}",
  "latest-subRoute-console": "calendar",
  "auth": "{\"idToken\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IlEwWXdOekF5UTBFME1UTXdRa05FTWpWQ05rRTVSRFUxTURoRk16TXhNa1kyTVRFelFVSkJRUSJ9.eyJodHRwczovL2FwaS5za2VkdWxvLmNvbS91c2VyX2lkIjoic2FsZXNmb3JjZS1zYW5kYm94fDAwNTkwMDAwMDAyOVRZd0FBTSIsImh0dHBzOi8vYXBpLnNrZWR1bG8uY29tL3ZlbmRvciI6InNhbGVzZm9yY2UiLCJodHRwczovL2FwaS5za2VkdWxvLmNvbS91c2VybmFtZSI6InNrZWR1bG9AaGVhbHRoc3Ryb25nLmNvbS5hdS5kZXYiLCJodHRwczovL2FwaS5za2VkdWxvLmNvbS9vcmdhbml6YXRpb25faWQiOiIwMEROMDAwMDAwMFFlTVFNQTAiLCJodHRwczovL2FwaS5za2VkdWxvLmNvbS9uYW1lIjoiQ2hyaXMgS2FsYXZhcyIsImh0dHBzOi8vYXBpLnNrZWR1bG8uY29tL3NmX2VudiI6InNhbGVzZm9yY2Utc2FuZGJveCIsImh0dHBzOi8vYXBpLnNrZWR1bG8uY29tL3Jlc291cmNlX2lkIjoiYTBCTjAwMDAwMDQ2WU04TUFNIiwiaHR0cHM6Ly9hcGkuc2tlZHVsby5jb20vcm9sZXMiOlsic2NoZWR1bGVyIiwiYWRtaW5pc3RyYXRvciIsInJlc291cmNlIl0sImh0dHBzOi8vYXBpLnNrZWR1bG8uY29tL3ZlbiI6eyJjb21tdW5pdHlfaWQiOm51bGwsInVzZXJfaWQiOiIwMDU5MDAwMDAwMjlUWXdBQU0ifSwiaXNzIjoiaHR0cHM6Ly9za2VkdWxvLmF1dGgwLmNvbS8iLCJzdWIiOiJzYWxlc2ZvcmNlLXNhbmRib3h8MDA1OTAwMDAwMDI5VFl3QUFNIiwiYXVkIjoiOW1FSkMwcUtFWkluVGE4TzJ1UzMwbWR3TFV5ajZZckgiLCJpYXQiOjE1OTMwNTM2NzcsImV4cCI6MTU5MzE0MDA3NywiYXRfaGFzaCI6IlUyN1RpYlduM0ZQbFVjOTFGOFg1a3ciLCJub25jZSI6IllrampMQUxOSFFaWEJmRURkRm1mMEJVRFJGMkRmZmtGIn0.no7H97HOnRNidVaAP3Ar0KWWQz_yKUq3vou3nnUjpYngTvRy1qq7qI2WWlhapBtgQbhicmUldk4k9So8kyj2EuasFUDDXxnu6QmDFN3tMgI_W36XmVKq4TW6Y5YNJbrvjDlDpDjosiyZvTgX5hSuXFcgpV4vZBfW0Pf9R-iRVAAjNQdgbaIKez-kUQoU8khw3vi3mYLEewM44f0FB2w_YLbcgmHS6k_F6qwJZU80PqfXSWAwALVKVLpzSCGrQibF36ugqyQ-loHpefDw80bpIr46Xmm4Ie2GdGAybHFkALUg5Eg57tvVQFo9sRYGijk0jdYhbkB5kbYIko_nJgbilw\",\"profile\":{\"https://api.skedulo.com/user_id\":\"salesforce-sandbox|005900000029TYwAAM\",\"https://api.skedulo.com/vendor\":\"salesforce\",\"https://api.skedulo.com/username\":\"skedulo@healthstrong.com.au.dev\",\"https://api.skedulo.com/organization_id\":\"00DN0000000QeMQMA0\",\"https://api.skedulo.com/name\":\"Chris Kalavas\",\"https://api.skedulo.com/sf_env\":\"salesforce-sandbox\",\"https://api.skedulo.com/resource_id\":\"a0BN00000046YM8MAM\",\"https://api.skedulo.com/roles\":[\"scheduler\",\"administrator\",\"resource\"],\"https://api.skedulo.com/ven\":{\"community_id\":null,\"user_id\":\"005900000029TYwAAM\"},\"iss\":\"https://skedulo.auth0.com/\",\"sub\":\"salesforce-sandbox|005900000029TYwAAM\",\"aud\":\"9mEJC0qKEZInTa8O2uS30mdwLUyj6YrH\",\"iat\":1593053677,\"exp\":1593140077,\"at_hash\":\"U27TibWn3FPlUc91F8X5kw\",\"nonce\":\"YkjjLALNHQZXBfEDdFmf0BUDRF2DffkF\"},\"skedApiAccessToken\":\"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IlEwWXdOekF5UTBFME1UTXdRa05FTWpWQ05rRTVSRFUxTURoRk16TXhNa1kyTVRFelFVSkJRUSJ9.eyJodHRwczovL2FwaS5za2VkdWxvLmNvbS91c2VyX2lkIjoic2FsZXNmb3JjZS1zYW5kYm94fDAwNTkwMDAwMDAyOVRZd0FBTSIsImh0dHBzOi8vYXBpLnNrZWR1bG8uY29tL3ZlbmRvciI6InNhbGVzZm9yY2UiLCJodHRwczovL2FwaS5za2VkdWxvLmNvbS91c2VybmFtZSI6InNrZWR1bG9AaGVhbHRoc3Ryb25nLmNvbS5hdS5kZXYiLCJodHRwczovL2FwaS5za2VkdWxvLmNvbS9vcmdhbml6YXRpb25faWQiOiIwMEROMDAwMDAwMFFlTVFNQTAiLCJodHRwczovL2FwaS5za2VkdWxvLmNvbS9uYW1lIjoiQ2hyaXMgS2FsYXZhcyIsImh0dHBzOi8vYXBpLnNrZWR1bG8uY29tL3NmX2VudiI6InNhbGVzZm9yY2Utc2FuZGJveCIsImh0dHBzOi8vYXBpLnNrZWR1bG8uY29tL3Jlc291cmNlX2lkIjoiYTBCTjAwMDAwMDQ2WU04TUFNIiwiaHR0cHM6Ly9hcGkuc2tlZHVsby5jb20vcm9sZXMiOlsic2NoZWR1bGVyIiwiYWRtaW5pc3RyYXRvciIsInJlc291cmNlIl0sImh0dHBzOi8vYXBpLnNrZWR1bG8uY29tL3ZlbiI6eyJjb21tdW5pdHlfaWQiOm51bGwsInVzZXJfaWQiOiIwMDU5MDAwMDAwMjlUWXdBQU0ifSwiaXNzIjoiaHR0cHM6Ly9za2VkdWxvLmF1dGgwLmNvbS8iLCJzdWIiOiJzYWxlc2ZvcmNlLXNhbmRib3h8MDA1OTAwMDAwMDI5VFl3QUFNIiwiYXVkIjpbImh0dHBzOi8vYXBpLnNrZWR1bG8uY29tIiwiaHR0cHM6Ly9za2VkdWxvLmF1dGgwLmNvbS91c2VyaW5mbyJdLCJpYXQiOjE1OTMwNTM2NzcsImV4cCI6MTU5MzA5Njg3NywiYXpwIjoiOW1FSkMwcUtFWkluVGE4TzJ1UzMwbWR3TFV5ajZZckgiLCJzY29wZSI6Im9wZW5pZCJ9.rsef6KeONDMnxeBYP8DgMNUFzq835yMh5MBea1hi8Zt60VMvdndue4l0h9TxA4HfSCIPr3An5IorK7oWJ9vX56mZSR8KDXuls3I2_nMp-ym6m27i7V_DwuGFC-w27pNqhEvXXQw6dLwS58iUHTwLEi4v9eI2wCNfl54x_51iarVGBabwW8gGL4GsJR8evxIR2sYZ-d60Y-gj06E9eFQDufg64WBc3OdVxyqOiFvIsvaIDZnqHp72KCUW5mc7qcSCI_9fzWvM-J0DRT-_0gnjLJ4q6JDfLG8IXicBlT61Jya3hoWbRx_QnrQLz0XZbnjqaWJSYxCCqEqosRK882ji1Q\",\"accessTokenExpiry\":1593096877,\"sfdc\":{\"access_token\":\"00DN0000000QeMQ!ASAAQADk_FzVG7ME04uaKOVbY5IbtpB8fZrXucMSzi0T3mE3UeE.30RSMn0TiKTuBy8wX6AhYsHWKe_SB64KTbQSlWiieR02\",\"instance_url\":\"https://cs6.salesforce.com\",\"expiry\":null}}",
  "persist:viewStore": "{\"console\":{\"startDate\":\"2020-06-25T00:00:00.000\",\"jobsRespectDate\":true,\"jobSort\":{\"selectedSort\":\"Job number\",\"sortOrder\":0},\"isStatusPanelOpen\":true,\"isJobListPanelOpen\":true}}",
  "developmentModeEnabled": "false",
  "sked-default.standard-schemas": "{\"value\":[{\"name\":\"AccountResourceScores\",\"label\":\"Account Resource Scores\",\"mapping\":\"sked__Account_Resource_Score__c\"},{\"name\":\"AccountTags\",\"label\":\"Account Tags\",\"mapping\":\"sked__Account_Tag__c\"},{\"name\":\"Accounts\",\"label\":\"Accounts\",\"mapping\":\"Account\"},{\"name\":\"Activities\",\"label\":\"Activities\",\"mapping\":\"sked__Activity__c\"},{\"name\":\"ActivityResources\",\"label\":\"Activity Resources\",\"mapping\":\"sked__Activity_Resource__c\"},{\"name\":\"Attendees\",\"label\":\"Attendees\",\"mapping\":\"sked__Attendee__c\"},{\"name\":\"Availabilities\",\"label\":\"Availabilities\",\"mapping\":\"sked__Availability__c\"},{\"name\":\"AvailabilityPatternResources\",\"label\":\"Availability Pattern Resources\",\"mapping\":\"sked__Availability_Pattern_Resource__c\"},{\"name\":\"AvailabilityPatterns\",\"label\":\"Availability Patterns\",\"mapping\":\"sked__Availability_Pattern__c\"},{\"name\":\"AvailabilityTemplateEntries\",\"label\":\"Availability Template Entries\",\"mapping\":\"sked__Availability_Template_Entry__c\"},{\"name\":\"AvailabilityTemplateResources\",\"label\":\"Availability Template Resources\",\"mapping\":\"sked__Availability_Template_Resource__c\"},{\"name\":\"AvailabilityTemplates\",\"label\":\"Availability Templates\",\"mapping\":\"sked__Availability_Template__c\"},{\"name\":\"ClientAvailabilities\",\"label\":\"Client Availabilities\",\"mapping\":\"sked__Client_Availability__c\"},{\"name\":\"ContactTags\",\"label\":\"Contact Tags\",\"mapping\":\"sked__Contact_Tag__c\"},{\"name\":\"Contacts\",\"label\":\"Contacts\",\"mapping\":\"Contact\"},{\"name\":\"HolidayRegions\",\"label\":\"Holiday Regions\",\"mapping\":\"sked__Holiday_Region__c\"},{\"name\":\"Holidays\",\"label\":\"Holidays\",\"mapping\":\"sked__Holiday__c\"},{\"name\":\"JobAllocations\",\"label\":\"Job Allocations\",\"mapping\":\"sked__Job_Allocation__c\"},{\"name\":\"JobOffers\",\"label\":\"Job Offers\",\"mapping\":\"sked__Job_Offer__c\"},{\"name\":\"JobProducts\",\"label\":\"Job Products\",\"mapping\":\"sked__Job_Product__c\"},{\"name\":\"JobTags\",\"label\":\"Job Tags\",\"mapping\":\"sked__Job_Tag__c\"},{\"name\":\"JobTasks\",\"label\":\"Job Tasks\",\"mapping\":\"sked__Job_Task__c\"},{\"name\":\"JobTimeConstraints\",\"label\":\"Job Time Constraints\",\"mapping\":\"sked__Job_Time_Constraint__c\"},{\"name\":\"Jobs\",\"label\":\"Jobs\",\"mapping\":\"sked__Job__c\"},{\"name\":\"LocationResourceScores\",\"label\":\"Location Resource Scores\",\"mapping\":\"sked__Location_Resource_Score__c\"},{\"name\":\"Locations\",\"label\":\"Locations\",\"mapping\":\"sked__Location__c\"},{\"name\":\"Preferences\",\"label\":\"Preferences\",\"mapping\":\"sked__Preferences__c\"},{\"name\":\"Products\",\"label\":\"Products\",\"mapping\":\"Product2\"},{\"name\":\"RecurringSchedules\",\"label\":\"Recurring Schedules\",\"mapping\":\"sked__Recurring_Schedule__c\"},{\"name\":\"Regions\",\"label\":\"Regions\",\"mapping\":\"sked__Region__c\"},{\"name\":\"ResourceJobOffers\",\"label\":\"Resource Job Offers\",\"mapping\":\"sked__Resource_Job_Offer__c\"},{\"name\":\"ResourceOverrideRegions\",\"label\":\"Resource Override Regions\",\"mapping\":\"sked__Resource_Override_Region__c\"},{\"name\":\"ResourceOverrides\",\"label\":\"Resource Overrides\",\"mapping\":\"sked__Resource_Override__c\"},{\"name\":\"ResourceRegions\",\"label\":\"Resource Regions\",\"mapping\":\"sked__Resource_Region__c\"},{\"name\":\"ResourceRequirementTags\",\"label\":\"Resource Requirement Tags\",\"mapping\":\"sked__Resource_Requirement_Tag__c\"},{\"name\":\"ResourceRequirements\",\"label\":\"Resource Requirements\",\"mapping\":\"sked__Resource_Requirement__c\"},{\"name\":\"ResourceShiftBreaks\",\"label\":\"Resource Shift Breaks\",\"mapping\":\"sked__Resource_Shift_Break__c\"},{\"name\":\"ResourceShiftOffers\",\"label\":\"Resource Shift Offers\",\"mapping\":\"sked__Resource_Shift_Offer__c\"},{\"name\":\"ResourceShifts\",\"label\":\"Resource Shifts\",\"mapping\":\"sked__Resource_Shift__c\"},{\"name\":\"ResourceTags\",\"label\":\"Resource Tags\",\"mapping\":\"sked__Resource_Tag__c\"},{\"name\":\"Resources\",\"label\":\"Resources\",\"mapping\":\"sked__Resource__c\"},{\"name\":\"ShiftOfferShifts\",\"label\":\"Shift Offer Shifts\",\"mapping\":\"sked__Shift_Offer_Shift__c\"},{\"name\":\"ShiftOffers\",\"label\":\"Shift Offers\",\"mapping\":\"sked__Shift_Offer__c\"},{\"name\":\"ShiftTags\",\"label\":\"Shift Tags\",\"mapping\":\"sked__Shift_Tag__c\"},{\"name\":\"Shifts\",\"label\":\"Shifts\",\"mapping\":\"sked__Shift__c\"},{\"name\":\"Tags\",\"label\":\"Tags\",\"mapping\":\"sked__Tag__c\"},{\"name\":\"Users\",\"label\":\"Users\",\"mapping\":\"User\"}],\"expiry\":1593140085908}",
  "team_env": "{\"auth0\":{\"clientId\":\"9mEJC0qKEZInTa8O2uS30mdwLUyj6YrH\",\"audience\":\"https://api.skedulo.com\",\"domain\":\"skedulo.auth0.com\"},\"server\":{\"api\":\"https://api.skedulo.com\"},\"tenantId\":null}",
  "sked-default.schemaVocab": "{\"value\":{\"Availabilities\":{\"Type\":[{\"controllingField\":null,\"label\":\"Abandonment of Employment\",\"controller\":null,\"defaultValue\":false,\"value\":\"Abandonment of Employment\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"AdHoc Public Holiday\",\"controller\":null,\"defaultValue\":false,\"value\":\"AdHoc Public Holiday\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Annual\",\"controller\":null,\"defaultValue\":false,\"value\":\"Annual\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Carers\",\"controller\":null,\"defaultValue\":false,\"value\":\"Carers\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Community circumstances\",\"controller\":null,\"defaultValue\":false,\"value\":\"Community circumstances\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Compassionate\",\"controller\":null,\"defaultValue\":false,\"value\":\"Compassionate\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Jury Duty\",\"controller\":null,\"defaultValue\":false,\"value\":\"Jury Duty\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Leave without Pay\",\"controller\":null,\"defaultValue\":false,\"value\":\"Leave without Pay\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Long Service\",\"controller\":null,\"defaultValue\":false,\"value\":\"Long Service\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Non Working Day\",\"controller\":null,\"defaultValue\":false,\"value\":\"Non Working Day\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Parental\",\"controller\":null,\"defaultValue\":false,\"value\":\"Parental\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Sick\",\"controller\":null,\"defaultValue\":false,\"value\":\"Sick\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Study Leave\",\"controller\":null,\"defaultValue\":false,\"value\":\"Study Leave\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Time in Lieu\",\"controller\":null,\"defaultValue\":false,\"value\":\"Time in Lieu\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Workers Compensation\",\"controller\":null,\"defaultValue\":false,\"value\":\"Workers Compensation\",\"validFor\":[],\"active\":true}],\"Status\":[{\"controllingField\":null,\"label\":\"Approved\",\"controller\":null,\"defaultValue\":false,\"value\":\"Approved\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Declined\",\"controller\":null,\"defaultValue\":false,\"value\":\"Declined\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Pending\",\"controller\":null,\"defaultValue\":false,\"value\":\"Pending\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Rescinded\",\"controller\":null,\"defaultValue\":false,\"value\":\"Rescinded\",\"validFor\":[],\"active\":true}]},\"Jobs\":{\"AbortReason\":[{\"controllingField\":null,\"label\":\"Customer no show\",\"controller\":null,\"defaultValue\":false,\"value\":\"Customer no show\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Cancelled by customer\",\"controller\":null,\"defaultValue\":false,\"value\":\"Cancelled by customer\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Appointment missed\",\"controller\":null,\"defaultValue\":false,\"value\":\"Appointment missed\",\"validFor\":[],\"active\":true}],\"JobStatus\":[{\"controllingField\":null,\"label\":\"Pending Allocation\",\"controller\":null,\"defaultValue\":true,\"value\":\"Pending Allocation\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Allocated\",\"controller\":null,\"defaultValue\":false,\"value\":\"Allocated\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Dispatched\",\"controller\":null,\"defaultValue\":false,\"value\":\"Dispatched\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Ready\",\"controller\":null,\"defaultValue\":false,\"value\":\"Ready\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"In Progress\",\"controller\":null,\"defaultValue\":false,\"value\":\"In Progress\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Complete\",\"controller\":null,\"defaultValue\":false,\"value\":\"Complete\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Cancelled\",\"controller\":null,\"defaultValue\":false,\"value\":\"Cancelled\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"On Site\",\"controller\":null,\"defaultValue\":false,\"value\":\"On Site\",\"validFor\":[],\"active\":true}],\"CustomerConfirmationStatus\":[{\"controllingField\":null,\"label\":\"Pending\",\"controller\":null,\"defaultValue\":false,\"value\":\"Pending\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Confirmed\",\"controller\":null,\"defaultValue\":false,\"value\":\"Confirmed\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Declined\",\"controller\":null,\"defaultValue\":false,\"value\":\"Declined\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Error\",\"controller\":null,\"defaultValue\":false,\"value\":\"Error\",\"validFor\":[],\"active\":true}],\"FollowupReason\":[{\"controllingField\":null,\"label\":\"Not Ready\",\"controller\":null,\"defaultValue\":false,\"value\":\"Not Ready\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Needs more time\",\"controller\":null,\"defaultValue\":false,\"value\":\"Needs more time\",\"validFor\":[],\"active\":true}],\"Urgency\":[{\"controllingField\":null,\"label\":\"Priority\",\"controller\":null,\"defaultValue\":false,\"value\":\"Priority\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Urgent\",\"controller\":null,\"defaultValue\":false,\"value\":\"Urgent\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Critical\",\"controller\":null,\"defaultValue\":false,\"value\":\"Critical\",\"validFor\":[],\"active\":true}],\"Type\":[{\"controllingField\":null,\"label\":\"ACFI Auditor Office Day\",\"controller\":null,\"defaultValue\":false,\"value\":\"ACFI Auditor Office Day\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"ACFI Full Audit\",\"controller\":null,\"defaultValue\":false,\"value\":\"ACFI Full Audit\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"ACFI Review\",\"controller\":null,\"defaultValue\":false,\"value\":\"ACFI Review\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Business Development Office Day\",\"controller\":null,\"defaultValue\":false,\"value\":\"Business Development Office Day\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Chiropractor Pain Management\",\"controller\":null,\"defaultValue\":false,\"value\":\"Chiropractor Pain Management\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Community Podiatry\",\"controller\":null,\"defaultValue\":false,\"value\":\"Community Podiatry\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Dietetics Assessments\",\"controller\":null,\"defaultValue\":false,\"value\":\"Dietetics Assessments\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Dietetics Clinic\",\"controller\":null,\"defaultValue\":false,\"value\":\"Dietetics Clinic\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Dietetics Induction and Orientation\",\"controller\":null,\"defaultValue\":false,\"value\":\"Dietetics Induction and Orientation\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Dietetics Menu Review\",\"controller\":null,\"defaultValue\":false,\"value\":\"Dietetics Menu Review\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Dietetics Office Day\",\"controller\":null,\"defaultValue\":false,\"value\":\"Dietetics Office Day\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Dietetics Report\",\"controller\":null,\"defaultValue\":false,\"value\":\"Dietetics Report\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Dietetics Travel\",\"controller\":null,\"defaultValue\":false,\"value\":\"Dietetics Travel\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Diversional Therapy Assessments\",\"controller\":null,\"defaultValue\":false,\"value\":\"Diversional Therapy Assessments\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Diversional Therapy Clinic\",\"controller\":null,\"defaultValue\":false,\"value\":\"Diversional Therapy Clinic\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Diversional Therapy Facility Education and Training\",\"controller\":null,\"defaultValue\":false,\"value\":\"Diversional Therapy Facility Education and Training\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Diversional Therapy Induction and Orientation\",\"controller\":null,\"defaultValue\":false,\"value\":\"Diversional Therapy Induction and Orientation\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Diversional Therapy Office Day\",\"controller\":null,\"defaultValue\":false,\"value\":\"Diversional Therapy Office Day\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Diversional Therapy Travel\",\"controller\":null,\"defaultValue\":false,\"value\":\"Diversional Therapy Travel\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Initial Service Review (ISR)\",\"controller\":null,\"defaultValue\":false,\"value\":\"Initial Service Review (ISR)\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Mental Health Clinic\",\"controller\":null,\"defaultValue\":false,\"value\":\"Mental Health Clinic\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Occupational Therapy Assessments\",\"controller\":null,\"defaultValue\":false,\"value\":\"Occupational Therapy Assessments\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Occupational Therapy Clinic\",\"controller\":null,\"defaultValue\":false,\"value\":\"Occupational Therapy Clinic\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Occupational Therapy Facility Education and Training\",\"controller\":null,\"defaultValue\":false,\"value\":\"Occupational Therapy Facility Education and Training\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Occupational Therapy Induction and Orientation\",\"controller\":null,\"defaultValue\":false,\"value\":\"Occupational Therapy Induction and Orientation\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Occupational Therapy Office Day\",\"controller\":null,\"defaultValue\":false,\"value\":\"Occupational Therapy Office Day\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Occupational Therapy Pain Management Clinic\",\"controller\":null,\"defaultValue\":false,\"value\":\"Occupational Therapy Pain Management Clinic\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Occupational Therapy Report\",\"controller\":null,\"defaultValue\":false,\"value\":\"Occupational Therapy Report\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Occupational Therapy Support Visit\",\"controller\":null,\"defaultValue\":false,\"value\":\"Occupational Therapy Support Visit\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Occupational Therapy Travel\",\"controller\":null,\"defaultValue\":false,\"value\":\"Occupational Therapy Travel\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Optometry Clinic\",\"controller\":null,\"defaultValue\":false,\"value\":\"Optometry Clinic\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Optometry Facility Education and Training\",\"controller\":null,\"defaultValue\":false,\"value\":\"Optometry Facility Education and Training\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Optometry Induction and Orientation\",\"controller\":null,\"defaultValue\":false,\"value\":\"Optometry Induction and Orientation\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Optometry Office Day\",\"controller\":null,\"defaultValue\":false,\"value\":\"Optometry Office Day\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Optometry Re-Test\",\"controller\":null,\"defaultValue\":false,\"value\":\"Optometry Re-Test\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Optometry Service Call\",\"controller\":null,\"defaultValue\":false,\"value\":\"Optometry Service Call\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Optometry Travel\",\"controller\":null,\"defaultValue\":false,\"value\":\"Optometry Travel\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Physio Aid Clinic\",\"controller\":null,\"defaultValue\":false,\"value\":\"Physio Aid Clinic\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Physiotherapy Assessments\",\"controller\":null,\"defaultValue\":false,\"value\":\"Physiotherapy Assessments\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Physiotherapy Clinic\",\"controller\":null,\"defaultValue\":false,\"value\":\"Physiotherapy Clinic\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Physiotherapy Exercise Classes\",\"controller\":null,\"defaultValue\":false,\"value\":\"Physiotherapy Exercise Classes\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Physiotherapy Facility Education and Training\",\"controller\":null,\"defaultValue\":false,\"value\":\"Physiotherapy Facility Education and Training\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Physiotherapy Induction and Orientation\",\"controller\":null,\"defaultValue\":false,\"value\":\"Physiotherapy Induction and Orientation\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Physiotherapy Office Day\",\"controller\":null,\"defaultValue\":false,\"value\":\"Physiotherapy Office Day\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Physiotherapy Pain Management Clinic\",\"controller\":null,\"defaultValue\":false,\"value\":\"Physiotherapy Pain Management Clinic\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Physiotherapy Report\",\"controller\":null,\"defaultValue\":false,\"value\":\"Physiotherapy Report\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Physiotherapy Support Visit\",\"controller\":null,\"defaultValue\":false,\"value\":\"Physiotherapy Support Visit\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Physiotherapy Travel\",\"controller\":null,\"defaultValue\":false,\"value\":\"Physiotherapy Travel\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Podiatry Assessment\",\"controller\":null,\"defaultValue\":false,\"value\":\"Podiatry Assessment\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Podiatry Clinic\",\"controller\":null,\"defaultValue\":false,\"value\":\"Podiatry Clinic\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Podiatry Emergency Visit\",\"controller\":null,\"defaultValue\":false,\"value\":\"Podiatry Emergency Visit\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Podiatry Facility Education and Training\",\"controller\":null,\"defaultValue\":false,\"value\":\"Podiatry Facility Education and Training\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Podiatry Footwear Prescription\",\"controller\":null,\"defaultValue\":false,\"value\":\"Podiatry Footwear Prescription\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Podiatry Induction and Orientation\",\"controller\":null,\"defaultValue\":false,\"value\":\"Podiatry Induction and Orientation\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Podiatry Office Day\",\"controller\":null,\"defaultValue\":false,\"value\":\"Podiatry Office Day\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Podiatry Support Visit\",\"controller\":null,\"defaultValue\":false,\"value\":\"Podiatry Support Visit\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Podiatry Travel\",\"controller\":null,\"defaultValue\":false,\"value\":\"Podiatry Travel\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Registered Nurse Clinic\",\"controller\":null,\"defaultValue\":false,\"value\":\"Registered Nurse Clinic\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Registered Nurse Facility Education and Training\",\"controller\":null,\"defaultValue\":false,\"value\":\"Registered Nurse Facility Education and Training\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Registered Nurse Induction and Orientation\",\"controller\":null,\"defaultValue\":false,\"value\":\"Registered Nurse Induction and Orientation\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Registered Nurse Office Day\",\"controller\":null,\"defaultValue\":false,\"value\":\"Registered Nurse Office Day\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Registered Nurse Pain Management Clinic\",\"controller\":null,\"defaultValue\":false,\"value\":\"Registered Nurse Pain Management Clinic\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Speech Therapy Assessments\",\"controller\":null,\"defaultValue\":false,\"value\":\"Speech Therapy Assessments\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Speech Therapy Clinic\",\"controller\":null,\"defaultValue\":false,\"value\":\"Speech Therapy Clinic\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Speech Therapy Induction and Orientation\",\"controller\":null,\"defaultValue\":false,\"value\":\"Speech Therapy Induction and Orientation\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Speech Therapy Office Day\",\"controller\":null,\"defaultValue\":false,\"value\":\"Speech Therapy Office Day\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Speech Therapy Report\",\"controller\":null,\"defaultValue\":false,\"value\":\"Speech Therapy Report\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Speech Therapy Travel\",\"controller\":null,\"defaultValue\":false,\"value\":\"Speech Therapy Travel\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"WOW Facility Inservice\",\"controller\":null,\"defaultValue\":false,\"value\":\"WOW Facility Inservice\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"WOW Leader Certification - Training Workshops\",\"controller\":null,\"defaultValue\":false,\"value\":\"WOW Leader Certification - Training Workshops\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"WOW Support Visit\",\"controller\":null,\"defaultValue\":false,\"value\":\"WOW Support Visit\",\"validFor\":[],\"active\":true}]},\"Resources\":{\"CountryCode\":[{\"controllingField\":null,\"label\":\"AU\",\"controller\":null,\"defaultValue\":false,\"value\":\"AU\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"NZ\",\"controller\":null,\"defaultValue\":false,\"value\":\"NZ\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"UK\",\"controller\":null,\"defaultValue\":false,\"value\":\"UK\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"US\",\"controller\":null,\"defaultValue\":false,\"value\":\"US\",\"validFor\":[],\"active\":true}],\"Category\":[{\"controllingField\":null,\"label\":\"Accounts Payable\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Accounts Payable\",\"validFor\":[\"Accounts Payable\"],\"active\":true},{\"controllingField\":null,\"label\":\"Accounts Receivable\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Accounts Receivable\",\"validFor\":[\"Accounts Receivable\"],\"active\":true},{\"controllingField\":null,\"label\":\"Accredited Exercise Physiologist (AEP)\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Accredited Exercise Physiologist (AEP)\",\"validFor\":[\"Accredited Exercise Physiologist (AEP)\"],\"active\":true},{\"controllingField\":null,\"label\":\"ACFI Auditor\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"ACFI Auditor\",\"validFor\":[\"ACFI Auditor\"],\"active\":true},{\"controllingField\":null,\"label\":\"Audiologist\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Audiologist\",\"validFor\":[\"Audiology\"],\"active\":true},{\"controllingField\":null,\"label\":\"Business Development Manager\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Business Development Manager\",\"validFor\":[\"Business Development Manager\"],\"active\":true},{\"controllingField\":null,\"label\":\"CEO\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"CEO\",\"validFor\":[\"CEO\"],\"active\":true},{\"controllingField\":null,\"label\":\"Chiropractor\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Chiropractor\",\"validFor\":[\"Chiropractor\"],\"active\":true},{\"controllingField\":null,\"label\":\"Clinical Manager\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Clinical Manager\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Community Administration Officer\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Community Administration Officer\",\"validFor\":[\"Community Administration Officer\"],\"active\":true},{\"controllingField\":null,\"label\":\"Dietitics\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Dietitics\",\"validFor\":[\"Dietician\"],\"active\":true},{\"controllingField\":null,\"label\":\"Diversional Therapist\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Diversional Therapist\",\"validFor\":[\"Diversional Therapy\"],\"active\":true},{\"controllingField\":null,\"label\":\"Exercise & Lifestyle Coordinator\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Exercise & Lifestyle Coordinator\",\"validFor\":[\"Exercise & Lifestyle Coordinator\"],\"active\":true},{\"controllingField\":null,\"label\":\"Finance Manager\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Finance Manager\",\"validFor\":[\"Finance Manager\"],\"active\":true},{\"controllingField\":null,\"label\":\"Financial Accountant\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Financial Accountant\",\"validFor\":[\"Financial Accountant\"],\"active\":true},{\"controllingField\":null,\"label\":\"General Manager\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"General Manager\",\"validFor\":[\"General Manager\"],\"active\":true},{\"controllingField\":null,\"label\":\"HR Administrator\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"HR Administrator\",\"validFor\":[\"HR Administrator\"],\"active\":true},{\"controllingField\":null,\"label\":\"HR Coordinator\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"HR Coordinator\",\"validFor\":[\"HR Coordinator\"],\"active\":true},{\"controllingField\":null,\"label\":\"HR Manager\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"HR Manager\",\"validFor\":[\"HR Manager\"],\"active\":true},{\"controllingField\":null,\"label\":\"IT Business Analyst\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"IT Business Analyst\",\"validFor\":[\"IT Business Analyst\"],\"active\":true},{\"controllingField\":null,\"label\":\"Mental Health Nurse\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Mental Health Nurse\",\"validFor\":[\"Mental Health\"],\"active\":true},{\"controllingField\":null,\"label\":\"Mental Health OT\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Mental Health OT\",\"validFor\":[\"Mental Health OT\"],\"active\":true},{\"controllingField\":null,\"label\":\"Occupational Therapist\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Occupational Therapist\",\"validFor\":[\"Occupational Therapy\"],\"active\":true},{\"controllingField\":null,\"label\":\"Occupational Therapy Manager\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Occupational Therapy Manager\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Occupational Therapy Team Leader\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Occupational Therapy Team Leader\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Office Manager\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Office Manager\",\"validFor\":[\"Office Manager\"],\"active\":true},{\"controllingField\":null,\"label\":\"Office Staff\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Office Staff\",\"validFor\":[\"Office Staff\"],\"active\":true},{\"controllingField\":null,\"label\":\"Optometrist\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Optometrist\",\"validFor\":[\"Optometry\"],\"active\":true},{\"controllingField\":null,\"label\":\"Optometry Dispenser\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Optometry Dispenser\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Payroll Officer\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Payroll Officer\",\"validFor\":[\"Payroll Officer\"],\"active\":true},{\"controllingField\":null,\"label\":\"Physio Aid\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Physio Aid\",\"validFor\":[\"Physio Aid\"],\"active\":true},{\"controllingField\":null,\"label\":\"Physiotherapist\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Physiotherapist\",\"validFor\":[\"Physiotherapy\"],\"active\":true},{\"controllingField\":null,\"label\":\"Physiotherapy Aid\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Physiotherapy Aid\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Physiotherapy Team Leader\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Physiotherapy Team Leader\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Podiatrist\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Podiatrist\",\"validFor\":[\"Podiatry\"],\"active\":true},{\"controllingField\":null,\"label\":\"Podiatry Management\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Podiatry Management\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Podiatry Team Leader\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Podiatry Team Leader\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Registered Nurse\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Registered Nurse\",\"validFor\":[\"Registered Nurse\"],\"active\":true},{\"controllingField\":null,\"label\":\"Sales Director\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Sales Director\",\"validFor\":[\"Sales Director\"],\"active\":true},{\"controllingField\":null,\"label\":\"Scheduling Officer\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Scheduling Officer\",\"validFor\":[\"Scheduling Officer\"],\"active\":true},{\"controllingField\":null,\"label\":\"Speech Pathology\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Speech Pathology\",\"validFor\":[\"Speech Pathology\"],\"active\":true},{\"controllingField\":null,\"label\":\"Talent Acquisition Manager\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Talent Acquisition Manager\",\"validFor\":[\"Talent Acquisition Manager\"],\"active\":true},{\"controllingField\":null,\"label\":\"Talent Acquisition Specialist\",\"controller\":\"Profession__c\",\"defaultValue\":false,\"value\":\"Talent Acquisition Specialist\",\"validFor\":[\"Talent Acquisition Specialist\"],\"active\":true}],\"ResourceType\":[{\"controllingField\":null,\"label\":\"Person\",\"controller\":null,\"defaultValue\":true,\"value\":\"Person\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Asset\",\"controller\":null,\"defaultValue\":false,\"value\":\"Asset\",\"validFor\":[],\"active\":true}],\"EmploymentType\":[{\"controllingField\":null,\"label\":\"Full-time\",\"controller\":null,\"defaultValue\":false,\"value\":\"Full-time\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Part-time\",\"controller\":null,\"defaultValue\":false,\"value\":\"Part-time\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Casual\",\"controller\":null,\"defaultValue\":false,\"value\":\"Casual\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Agency\",\"controller\":null,\"defaultValue\":false,\"value\":\"Agency\",\"validFor\":[],\"active\":true}],\"WorkingHourType\":[{\"controllingField\":null,\"label\":\"Availability\",\"controller\":null,\"defaultValue\":false,\"value\":\"Availability\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Shift\",\"controller\":null,\"defaultValue\":false,\"value\":\"Shift\",\"validFor\":[],\"active\":true}],\"NotificationType\":[{\"controllingField\":null,\"label\":\"sms\",\"controller\":null,\"defaultValue\":false,\"value\":\"sms\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"push\",\"controller\":null,\"defaultValue\":true,\"value\":\"push\",\"validFor\":[],\"active\":true}]},\"Activities\":{\"Type\":[{\"controllingField\":null,\"label\":\"Meal Break\",\"controller\":null,\"defaultValue\":false,\"value\":\"Meal Break\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Administration\",\"controller\":null,\"defaultValue\":false,\"value\":\"Administration\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Travel\",\"controller\":null,\"defaultValue\":false,\"value\":\"Travel\",\"validFor\":[],\"active\":true},{\"controllingField\":null,\"label\":\"Miscellaneous\",\"controller\":null,\"defaultValue\":false,\"value\":\"Miscellaneous\",\"validFor\":[],\"active\":true}]}},\"expiry\":1593140088456}",
  "customFields": "{}"
}

function App() {

  const [loading, setLoading] = useState(true)

  const [skedLocalStorage, setSkedLocalStorage] = useState(mock);
  const [isSked, setIsSked] = useState(window.location.host.includes("localhost"))

  useEffect(() => {
    if (!chrome || !chrome.tabs) {
      return
    }
    chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {
      const tab = tabs[0]
      if (tab.url.includes("skedulo")) {
        chrome.tabs.executeScript(tab.id, { code: `Object.keys(localStorage).reduce((result, key) => ({...result, [key]: localStorage[key]}) , {})` }, ([localStorageData]) => {
          // console.log('skedLocalStorage', localStorageData)
          setSkedLocalStorage(localStorageData)
        });
        setIsSked(true)
      } else {
        setIsSked(false)
      }
    })
  }, [skedLocalStorage])

  const auth = useMemo(() => skedLocalStorage.auth ? JSON.parse(skedLocalStorage.auth) : {}, [skedLocalStorage])
  const accessToken = useMemo(() => auth.skedApiAccessToken || null, [auth])
  const idToken = useMemo(() => auth.idToken || null, [auth])

  if (!isSked) {
    return <div className="btn btn-success bg-white btn-block"><a href="https://new.skedulo.com/"><FontAwesomeIcon icon={faExternalLinkSquareAlt} /> Skedulo </a></div>
  }

  return (
    <>
      <Context.Provider value={{ setLoading, skedLocalStorage, accessToken }}>
        <div className={"app d-flex flex-column " + (loading && "blur")} >
          <div className="header bg-info text-white p-2">
            <h5 className="m-0">Sked tools by Stiger</h5>
          </div>
          <div className="body p-2 d-flex flex-column">
            <div className="copy-token">
              <h6 className="text-muted">Copy Token</h6>
              <button className="btn btn-primary mr-1" onClick={() => copyTextToClipboard(accessToken)}><FontAwesomeIcon icon={faCopy} /> Session Token</button>
              <button className="btn btn-success" onClick={() => copyTextToClipboard(idToken)}><FontAwesomeIcon icon={faCopy} /> User Token</button>
            </div>

            <div className="sked-sdk mt-2">
              <SdkHandler accessToken={accessToken} />
            </div>

            <div className="sked-sdk mt-2">
              <CfHandler />
            </div>
          </div>

        </div>
      </Context.Provider>
      {loading && <Loading />}
    </>
  );
}

export default App;
